<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}MiniMarket{% endblock %}</title>
</head>
<body>
    <nav>
        <a href="{% url 'home' %}">Home</a>

        {% if user.is_authenticated %}
            <span>Hola, {{ user.username }}</span>
            <a href="{% url 'logout' %}">Cerrar Sesión</a>

            {# Menú para Gerentes #}
            {% if user.empleado.cargo.cargo == "Gerente" %}
                <a href="{% url 'ver_clientes' %}">Clientes</a>
                <a href="{% url 'ver_empleados' %}">Empleados</a>
                <a href="{% url 'ver_bitacora' %}">Bitácora</a>
            {% endif %}

            {# Menú para Empleados (puede ver productos) #}
            {% if user.empleado.cargo.cargo != "Gerente" %}
                <a href="{% url 'ver_productos' %}">Productos</a>
            {% endif %}

        {% else %}
            {# Menú para usuarios no autenticados #}
            <a href="{% url 'login' %}">Iniciar Sesión</a>
            <a href="{% url 'signup' %}">Registrarse</a>
        {% endif %}
    </nav>

    <hr>

    <div>
        {% if messages %}
            <ul>
                {% for message in messages %}
                    <li>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        {% block content %}
        <!-- Aquí se insertará el contenido de cada página -->
        {% endblock %}
    </div>
</body>
</html>
