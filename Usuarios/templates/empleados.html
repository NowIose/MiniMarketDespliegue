{% extends "base.html" %}

{% block title %}Gestión de Empleados{% endblock %}

{% block content %}
<div class="container mt-5">

  <!-- Empleados actuales -->
  <h2 class="mb-3">Empleados actuales</h2>
  {% if empleados %}
    <div class="list-group mb-5">
      {% for e in empleados %}
        <div class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ e.usuario.username }}</strong> — {{ e.usuario.correo }} — {{ e.cargo.cargo }}
          </div>
          <span class="badge bg-primary rounded-pill">{{ e.estado|yesno:"Activo,Inactivo" }}</span>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info mb-5">
      No hay empleados registrados.
    </div>
  {% endif %}

  <!-- Usuarios pendientes -->
  <h2 class="mb-3">Usuarios pendientes de ser empleados</h2>
  {% if usuarios_pendientes %}
    <div class="list-group">
      {% for u in usuarios_pendientes %}
        <div class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ u.username }}</strong> — {{ u.correo }}
          </div>
          <a href="{% url 'asignar_empleado' u.id %}" class="btn btn-sm btn-success">Asignar como empleado</a>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info">
      No hay usuarios pendientes de ser empleados.
    </div>
  {% endif %}

</div>
{% endblock %}
